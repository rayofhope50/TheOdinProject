<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link rel="stylesheet" href="styles/styles_calculator.css" />
  </head>
  <body>
    <p>
      <button class="btn1">1</button><button class="btn2">2</button
      ><button class="btn3">3</button><button class="btnAdd">+</button>
    </p>
    <p>
      <button class="btn4">4</button><button class="btn5">5</button
      ><button class="btn6">6</button><button class="btnSub">-</button>
    </p>
    <p>
      <button class="btn7">7</button><button class="btn8">8</button
      ><button class="btn9">9</button><button class="btnMulti">*</button>
    </p>
    <p>
      <button class="btn0">0</button><button class="btnFloat">.</button
      ><button class="btnSum">=</button><button class="btnDiv">/</button>
    </p>
    <p></p>
    <button class="clear">Clear</button>
    <script>
      let calculation = localStorage.getItem("calculation") || "";
      document.querySelector(".btn1").addEventListener("click", function () {
        updateCalculation("1");
      });
      document.querySelector(".btn2").addEventListener("click", function () {
        updateCalculation("2");
      });
      document.querySelector(".btn3").addEventListener("click", function () {
        updateCalculation("3");
      });
      document.querySelector(".btnAdd").addEventListener("click", function () {
        updateCalculation("+");
      });
      document.querySelector(".btn4").addEventListener("click", function () {
        updateCalculation("4");
      });
      document.querySelector(".btn5").addEventListener("click", function () {
        updateCalculation("5");
      });
      document.querySelector(".btn6").addEventListener("click", function () {
        updateCalculation("6");
      });
      document.querySelector(".btnSub").addEventListener("click", function () {
        updateCalculation("-");
      });
      document.querySelector(".btn7").addEventListener("click", function () {
        updateCalculation("7");
      });
      document.querySelector(".btn8").addEventListener("click", function () {
        updateCalculation("8");
      });
      document.querySelector(".btn9").addEventListener("click", function () {
        updateCalculation("9");
      });
      document
        .querySelector(".btnMulti")
        .addEventListener("click", function () {
          updateCalculation("*");
        });
      document.querySelector(".btn0").addEventListener("click", function () {
        updateCalculation("0");
      });
      document
        .querySelector(".btnFloat")
        .addEventListener("click", function () {
          updateCalculation(".");
        });
      document.querySelector(".btnDiv").addEventListener("click", function () {
        updateCalculation("/");
      });
      document.querySelector(".btnSum").addEventListener("click", function () {
        calculation = eval(calculation);
        console.log(calculation);
        calculation = "";
      });
      document.querySelector(".clear").addEventListener("click", function () {
        console.log("Selection was cleared");
        calculation = "";
        localStorage.removeItem("calculation");
      });
      const updateCalculation = function (parameter) {
        calculation += parameter;
        console.log(calculation);
        console.log(typeof calculation);
        localStorage.setItem("calculation", calculation);
        console.log(`Saved to storage ${localStorage.getItem("calculation")}`);
      };
    </script>
  </body>
</html>
